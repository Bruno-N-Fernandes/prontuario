(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{22:function(t,e,n){t.exports=n.p+"static/media/logo.1f9a96a1.svg"},23:function(t,e,n){t.exports=n.p+"static/media/landing.c86272eb.svg"},24:function(t,e,n){t.exports=n.p+"static/media/purple-heart.e042bb23.svg"},26:function(t,e,n){t.exports=n(42)},32:function(t,e,n){},33:function(t,e,n){},34:function(t,e,n){},35:function(t,e,n){},41:function(t,e,n){},42:function(t,e,n){"use strict";n.r(e);var i,a,r,o=n(0),s=n.n(o),u=n(21),c=n.n(u),l=n(14),h=n(3),d=n(1),m=n.n(d),p=n(5),f=n(2),v=n(4),w=function t(e,n,i){Object(f.a)(this,t),this.Name=void 0,this.Value=void 0,this.Type=void 0,this.Name=e,this.Value=n,this.Type=i};!function(t){t[t.GET=0]="GET",t[t.POST=1]="POST",t[t.PUT=2]="PUT",t[t.DELETE=3]="DELETE",t[t.HEAD=4]="HEAD",t[t.OPTIONS=5]="OPTIONS",t[t.PATCH=6]="PATCH",t[t.MERGE=7]="MERGE",t[t.COPY=8]="COPY"}(i||(i={})),function(t){t[t.Json=0]="Json",t[t.Xml=1]="Xml",t[t.None=2]="None"}(a||(a={})),function(t){t[t.Cookie=0]="Cookie",t[t.GetOrPost=1]="GetOrPost",t[t.UrlSegment=2]="UrlSegment",t[t.HttpHeader=3]="HttpHeader",t[t.RequestBody=4]="RequestBody",t[t.QueryString=5]="QueryString",t[t.QueryStringWithoutEncode=6]="QueryStringWithoutEncode"}(r||(r={}));var b=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.GET,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text/json";Object(f.a)(this,t),this.Parameters=void 0,this.Resource=void 0,this.method=void 0,this.ContentType=void 0,this.body=void 0,this.Parameters=[],this.Resource=e,this.method=n,this.ContentType=a,this.body=null}return Object(v.a)(t,[{key:"GetUri",value:function(t){return t+this.Resource+this.QueryString}},{key:"GetRequest",value:function(){return{headers:this.Headers,method:this.Method,body:this.Body}}},{key:"ResetParameters",value:function(){this.Parameters=[]}},{key:"AddOrUpdateParameter",value:function(t,e,n){var i=this.Where(t,n);return i.length>0?i[0].Value=e:this.Parameters.push(new w(t,e,null!==n&&void 0!==n?n:r.QueryString)),this}},{key:"FirstOrDefault",value:function(t,e){var n=this.Where(t,e);return n.length>0?n[0].Value:""}},{key:"RemoveParameter",value:function(t,e){for(var n=this.Where(t,e);n.length>0;){var i=this.Parameters.indexOf(n[0]);this.Parameters.splice(i,1),n.splice(0,1)}return this}},{key:"Where",value:function(t,e){var n=this.Parameters;return t&&(n=n.filter((function(e,n,i){return e.Name===t}))),e&&(n=n.filter((function(t,n,i){return t.Type===e}))),n}},{key:"Body",get:function(){return this.body&&this.body.length>0?JSON.stringify(this.body):null}},{key:"Method",get:function(){var t=this.method;return i[t]}},{key:"Headers",get:function(){var t=this,e={};return Reflect.set(this,"Content-Type",this.ContentType,e),Reflect.set(this,"Accept","application/json, text/json, text/plain, */*",e),Reflect.set(this,"cache-control","no-cache",e),this.Where(void 0,r.HttpHeader).forEach((function(n){return Reflect.set(t,n.Name,n.Value,e)})),e}},{key:"QueryString",get:function(){var t=this.Where(void 0,r.QueryString),e=t.map((function(t){return"".concat(t.Name,"=").concat(t.Value)})).join("&");return t.length>0?"?"+e:""}}]),t}(),y=n(8),k=n(12),g=n(9),E=n(10),O=function(){function t(e){Object(f.a)(this,t),this._baseUrlApi=void 0,this._baseUrlApi=e}return Object(v.a)(t,[{key:"SendImpl",value:function(){var t=Object(p.a)(m.a.mark((function t(e){var n,i;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.GetUri(this._baseUrlApi),i=e.GetRequest(),t.abrupt("return",fetch(n,i));case 3:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()}]),t}(),T=function(t){Object(E.a)(n,t);var e=Object(g.a)(n);function n(t,i){var a;return Object(f.a)(this,n),(a=e.call(this,t))._authApi=void 0,a._authApi=i,a}return Object(v.a)(n,[{key:"Send",value:function(){var t=Object(p.a)(m.a.mark((function t(e){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._authApi){t.next=3;break}return t.next=3,this._authApi.TryUpdateTokenInRequest(e);case 3:return t.abrupt("return",Object(k.a)(Object(y.a)(n.prototype),"SendImpl",this).call(this,e).then(this.ValidateRespose));case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"ValidateRespose",value:function(){var t=Object(p.a)(m.a.mark((function t(e){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.ok){t.next=2;break}return t.abrupt("return",e);case 2:return t.t0=Error,t.next=5,e.text();case 5:throw t.t1=t.sent,new t.t0(t.t1);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}]),n}(O),x=function(){function t(){Object(f.a)(this,t)}return Object(v.a)(t,null,[{key:"ToUTC",value:function(t){var e=Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds());return new Date(e)}},{key:"Parse",value:function(e){return void 0===e||null===e?t.UtcNow:new Date(e)}},{key:"Now",get:function(){return new Date}},{key:"UtcNow",get:function(){var e=t.Now;return t.ToUTC(e)}}]),t}(),j=function(){function t(e,n,i,a){Object(f.a)(this,t),this.Nome=e,this.Email=n,this.Celular=i,this.Roles=a}return Object(v.a)(t,null,[{key:"New",value:function(e){try{return new t(e.nome,e.email,e.celular,e.roles)}catch(n){return t.Anonimo}}}]),t}();j.Anonimo=new j("Anonimo","anonimo@anonimo.com.br","(xx) x xxxx-xxxx","Anonimo");var _=function(){function t(e,n,i,a){Object(f.a)(this,t),this.Scheme=e,this.Token=n,this.Expires=i,this.Usuario=a}return Object(v.a)(t,null,[{key:"New",value:function(e){try{return new t(e.scheme,e.token,x.Parse(e.expires),j.New(e.usuario))}catch(n){return t.Invalid(n)}}},{key:"Invalid",value:function(e){return new t("Error",String(e),x.UtcNow,j.Anonimo)}}]),t}(),A=function(t){Object(E.a)(n,t);var e=Object(g.a)(n);function n(t,i,a){var r;return Object(f.a)(this,n),(r=e.call(this,t))._restRequestGetToken=void 0,r._sessionTimeOutInMillis=void 0,r._jwtAuthorization=void 0,r._lastActivity=void 0,r._restRequestGetToken=i,r._sessionTimeOutInMillis=60*a*1e3,r._jwtAuthorization=_.Invalid("Empty"),r._lastActivity=x.UtcNow,r.ResetTimerOfTimeOut(),r}return Object(v.a)(n,[{key:"ResetTimerOfTimeOut",value:function(){this._lastActivity=x.UtcNow}},{key:"ResetParametersOfRequestGetToken",value:function(){this._restRequestGetToken.ResetParameters()}},{key:"TryUpdateTokenInRequest",value:function(){var t=Object(p.a)(m.a.mark((function t(e){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.GetValidToken();case 2:if(!t.sent){t.next=6;break}e.AddOrUpdateParameter("Authorization",this.Token,r.HttpHeader),t.next=7;break;case 6:e.RemoveParameter("Authorization",r.HttpHeader);case 7:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"GetValidToken",value:function(){var t=Object(p.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.IsClientIdle){t.next=3;break}return this.ResetParametersOfRequestGetToken(),t.abrupt("return",!1);case 3:if(this.ResetTimerOfTimeOut(),t.t0=this.IsValid,t.t0){t.next=9;break}return t.next=8,this.TokenRenewed();case 8:t.t0=t.sent;case 9:return t.abrupt("return",t.t0);case 10:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"TokenRenewed",value:function(){var t=Object(p.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.RenewToken();case 2:return t.abrupt("return",this.IsValid);case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"RenewToken1",value:function(){var t=Object(p.a)(m.a.mark((function t(){var e;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Authenticate();case 2:return e=t.sent,this._jwtAuthorization=_.New(e),t.abrupt("return",this._jwtAuthorization);case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"RenewToken",value:function(){var t=Object(p.a)(m.a.mark((function t(){var e=this;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.Authenticate().then((function(t){return _.New(t)})).then((function(t){return e._jwtAuthorization=t})).then(this.ValidateJWT));case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"Authenticate",value:function(){var t=Object(p.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(k.a)(Object(y.a)(n.prototype),"SendImpl",this).call(this,this._restRequestGetToken).then((function(t){return t.json()})));case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"ValidateJWT",value:function(t){if(t.Expires>x.UtcNow)return t;throw new Error("Token Expirado")}},{key:"Token",get:function(){var t,e;return"".concat(null===(t=this._jwtAuthorization)||void 0===t?void 0:t.Scheme," ").concat(null===(e=this._jwtAuthorization)||void 0===e?void 0:e.Token)}},{key:"IsValid",get:function(){return null!=this._jwtAuthorization&&!this.IsExpired}},{key:"IsExpired",get:function(){return x.UtcNow.getTime()>this._jwtAuthorization.Expires.getTime()}},{key:"IsClientIdle",get:function(){return x.UtcNow.getTime()-this._lastActivity.getTime()>this._sessionTimeOutInMillis}}]),n}(O),N=function(){function t(e){Object(f.a)(this,t),this.baseUrlApi=void 0,this.clientApi=void 0,this.baseUrlApi=e.endsWith("/")?e:"".concat(e,"/"),this.clientApi=new T(this.baseUrlApi)}return Object(v.a)(t,[{key:"Autenticar",value:function(){var t=Object(p.a)(m.a.mark((function t(e,n){var i,a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=new b("Security/Authenticate").AddOrUpdateParameter("email",e,r.QueryString).AddOrUpdateParameter("password",n,r.QueryString),a=new A(this.baseUrlApi,i,10),this.clientApi=new T(this.baseUrlApi,a),t.abrupt("return",a.RenewToken());case 4:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"QuemEstaLogado",value:function(){var t=Object(p.a)(m.a.mark((function t(){var e;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=new b("Test/Logado"),t.abrupt("return",this.clientApi.Send(e).then((function(t){return t.json()})));case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),t}(),I=n(22),S=n.n(I),R=n(23),U=n.n(R),P=n(24),C=n.n(P);n(32);var q,M=function(){function t(){return(t=Object(p.a)(m.a.mark((function t(e){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),t.next=3,B.QuemEstaLogado().then((function(t){return alert(t.message)})).catch((function(t){return alert("voc\xea n\xe3o est\xe1 autenticado: "+(null===t||void 0===t?void 0:t.message))}));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return s.a.createElement("div",{id:"page-landing"},s.a.createElement("div",{id:"page-landing-content",className:"container"},s.a.createElement("div",{className:"logo-container"},s.a.createElement("img",{src:S.a,alt:"Meu Prontuario"}),s.a.createElement("h2",null,"Sua plataforma de Prontu\xe1rio M\xe9dico Eletr\xf4nico")),s.a.createElement("img",{src:U.a,alt:"Meu Prontuario",className:"hero-image"}),s.a.createElement("div",{className:"buttons-container"},s.a.createElement("button",{type:"button",onClick:function(e){return t.apply(this,arguments)}},"Quem est\xe1 logado ?")),s.a.createElement("span",{className:"total-connections"},"Total de 200 conex\xf5es j\xe1 realizadas",s.a.createElement("img",{src:C.a,alt:"Cora\xe7\xe3o Roxo"}))))},D=n(18),z=(n(33),function(t){var e;return s.a.createElement("div",{className:"input-block"},s.a.createElement("label",{id:t.name,htmlFor:t.name},t.label),s.a.createElement("input",{type:null!==(e=t.type)&&void 0!==e?e:"text",name:t.name,id:t.name,value:t.value,onChange:function(e){return t.change(e.target.value)}}))});!function(t){t[t.Minimizado=0]="Minimizado",t[t.Normal=1]="Normal",t[t.Maximizado=2]="Maximizado"}(q||(q={}));var G=function(){function t(e){var n,i,a,r,o,s,u=this;Object(f.a)(this,t),this.coordenadas={top:"0",left:"0",width:"0",height:"0"},this.twState=q.Normal,this.root=document.createElement("root"),this.main=document.createElement("main"),this.root=null!==(n=document.getElementById("title_window_".concat(e)))&&void 0!==n?n:this.root,this.main=null!==(i=document.getElementById("title_window_main_".concat(e)))&&void 0!==i?i:this.main,null===(a=document.getElementById("twhbb_help_".concat(e)))||void 0===a||a.addEventListener("click",(function(t){return alert("Help indispo\xedvel!")})),null===(r=document.getElementById("twhbb_mini_".concat(e)))||void 0===r||r.addEventListener("click",(function(t){return u.min_res_max(-1)})),null===(o=document.getElementById("twhbb_rest_".concat(e)))||void 0===o||o.addEventListener("click",(function(t){return u.min_res_max(1)})),null===(s=document.getElementById("twhbb_clos_".concat(e)))||void 0===s||s.addEventListener("click",(function(t){return alert("Close indispo\xedvel!")}))}return Object(v.a)(t,[{key:"min_res_max",value:function(t){function e(t,e){t.top=e.top,t.left=e.left,t.width=e.width,t.height=e.height}this.twState===q.Minimizado?(e(this.root.style,this.coordenadas),this.twState++,this.main.style.display=""):this.twState===q.Normal?(e(this.coordenadas,this.root.style),this.twState=this.twState+t,0===this.twState?this.main.style.display="none":(e(this.root.style,{top:"2vh",left:"2vw",width:"96vw",height:"96vh"}),this.main.style.display="")):this.twState===q.Maximizado&&(e(this.root.style,this.coordenadas),this.twState--)}}],[{key:"Init",value:function(e){return new t(e)}}]),t}(),H=function(){function t(e){var n,i=this;Object(f.a)(this,t),this.state=void 0,this.titleWindow=void 0,this.state={x:0,y:0},this.titleWindow=null!==(n=e.parentElement)&&void 0!==n?n:e,e.onmousedown=function(t){return i.dragMouseDown(t)}}return Object(v.a)(t,[{key:"dragMouseDown",value:function(t){var e=this;(t=t||window.event).preventDefault(),this.state.x=t.clientX,this.state.y=t.clientY,document.onmouseup=function(t){return e.closeElementDrag(t)},document.onmousemove=function(t){return e.elementDrag(t)}}},{key:"elementDrag",value:function(t){(t=t||window.event).preventDefault();var e=this.state.x-t.clientX,n=this.state.y-t.clientY;this.state.x=t.clientX,this.state.y=t.clientY,this.titleWindow.style.left=this.titleWindow.offsetLeft-e+"px",this.titleWindow.style.top=this.titleWindow.offsetTop-n+"px"}},{key:"closeElementDrag",value:function(t){document.onmouseup=null,document.onmousemove=null}}],[{key:"Init",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=n?document.getElementsByClassName(e):document.getElementById(e);return new t(i)}}]),t}(),W=(n(34),function(t){Object(E.a)(n,t);var e=Object(g.a)(n);function n(t){var i;return Object(f.a)(this,n),(i=e.call(this,t)).uniqueId=void 0,i.uniqueId=x.Now.getTime().toString(),i}return Object(v.a)(n,[{key:"componentDidMount",value:function(){H.Init("title_window_header_".concat(this.uniqueId)),G.Init(this.uniqueId)}},{key:"render",value:function(){return s.a.createElement("div",{id:"title_window_".concat(this.uniqueId),className:"title-window",style:this.props.style},s.a.createElement("header",{id:"title_window_header_".concat(this.uniqueId),className:"title-window-header"},s.a.createElement("label",{className:"title-window-header-label"},this.props.label),s.a.createElement("div",{className:"title-window-header-buttons"},s.a.createElement("button",{id:"twhbb_help_".concat(this.uniqueId),className:"title-window-header-buttons-button-help"},"?"),s.a.createElement("button",{id:"twhbb_mini_".concat(this.uniqueId),className:"title-window-header-buttons-button-minimize"},"-"),s.a.createElement("button",{id:"twhbb_rest_".concat(this.uniqueId),className:"title-window-header-buttons-button-restore"},"+"),s.a.createElement("button",{id:"twhbb_clos_".concat(this.uniqueId),className:"title-window-header-buttons-button-close"}," X"))),s.a.createElement("main",{id:"title_window_main_".concat(this.uniqueId),className:"title-window-main"},s.a.createElement("form",{className:"title-window-main-form",onSubmit:this.props.onSubmit},this.props.children)),s.a.createElement("footer",{className:"title-window-footer"},this.props.footer))}}]),n}(s.a.Component));n(35);var V=function(){var t=Object(o.useState)("joao@gmail.com"),e=Object(D.a)(t,2),n=e[0],i=e[1],a=Object(o.useState)(""),r=Object(D.a)(a,2),u=r[0],c=r[1],l=Object(h.f)();function d(){return(d=Object(p.a)(m.a.mark((function t(e){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),t.next=3,B.Autenticar(n,u).then((function(t){return l.push("/")})).catch((function(t){return alert("N\xe3o foi poss\xedvel fazer o Login: "+t.message)}));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return s.a.createElement(W,{label:"Prontu\xe1rio - Autentica\xe7\xe3o",style:{width:"25vw"}},s.a.createElement(z,{type:"text",label:"login",name:"login",value:n,change:i,required:!0}),s.a.createElement(z,{type:"password",label:"password",name:"password",value:u,change:c}),s.a.createElement("div",{className:"input-block"},s.a.createElement("button",{type:"button",onClick:function(t){return d.apply(this,arguments)}},"Login")))},L=(n(41),new N("http://pleno.dlinkddns.com:8080/api/v1"));c.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(l.a,null,s.a.createElement(h.a,{from:"/",to:"/Login"}),s.a.createElement(h.b,{exact:!0,path:"/",component:M}),s.a.createElement(h.b,{exact:!0,path:"/Login",component:V}))),document.getElementById("root"));var B=e.default=L}},[[26,1,2]]]);
//# sourceMappingURL=main.3e784f85.chunk.js.map